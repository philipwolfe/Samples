



    <link rel="stylesheet" href="../../../../util/style.css">

    <form name="Form" method="post" action="srcview.htm?path=/QuickStart/aspplus/samples/localize/resources/news.src&file=../localize2/search.ascx" id="Form">
<input type="hidden" name="__VIEWSTATE" value="YTB6MTQ3MzAyNjM4MF9hMHpfaHo1ejN4X2Ewel9oejV6MHhfYTB6aHppbm5lcmh0bWxfLi4vbG9jYWxpXHplMi9zZWFyY2guYXNjXHh4X194eF94eF94X1946df98858" />


        <div class="SampleHeader" style="width:100%">
            <div class="SampleTitle">
                <span id="Title">../localize2/search.ascx</span>
            </div>
            <table id="SourceTable" style="font: 8pt Verdana">
    <tr>
        <td style="padding-right:10;"><b>C# Source: </b></td>
        <td><a href='../../../../aspplus/samples/localize/resources/newsaspxsource.htm'>news.htm</a> &nbsp;&nbsp<a href='../../../../aspplus/samples/localize/localize2/searchascxsource.htm'>../localize2/search.ascx</a> &nbsp;&nbsp<a href='../../../../aspplus/samples/localize/localize2/flagascxsource.htm'>../localize2/flag.ascx</a> &nbsp;&nbsp</td>
    </tr>
    <tr>
        <td style="padding-right:10;"><b>VB Source: </b></td>
        <td><a href='../../../../aspplus/samples/localize/resources/news_vbaspxsource.htm'>news_vb.htm</a> &nbsp;&nbsp<a href='../../../../aspplus/samples/localize/localize2/vb/searchascxsource.htm'>../localize2/VB/search.ascx</a> &nbsp;&nbsp<a href='../../../../aspplus/samples/localize/localize2/vb/flagascxsource.htm'>../localize2/VB/flag.ascx</a> &nbsp;&nbsp</td>
    </tr>
</table>

        </div>

        <xmp><%@Import Namespace="System.Globalization" %>

<script runat="server" language="C#">
    
override protected void Render(HtmlTextWriter writer) {
    LocalizeSearchText();
	base.Render(writer);
}

void SearchButton_Clicked(Object sender, EventArgs e) {
    if(Page.IsPostBack && SearchText.Text.Length > 0) {
	Page.Response.Redirect("http://search.msn.com/results.asp?q=" 
	    + Server.UrlEncode(SearchText.Text) );
    } else {
	LocalizeSearchText();
    }
}

public void LocalizeSearchText() {
    switch(String.Intern(CultureInfo.CurrentUICulture.Name)) {
    case "en-US": 
	SearchText.Text = "Clinton";
	SearchButton.Text = "Search";
	break;
    case "de": 
	SearchText.Text = "SchrC6der";
	SearchButton.Text = "Suchen";
	break;
    case "ja": 
	SearchText.Text = "f#.";
	SearchButton.Text = "f$g4"";
	break;
    default: SearchButton.Text = "Search";
    }
}

</script>



<asp:Panel runat="server" BackColor="Wheat">
	<asp:TextBox runat="server" id="SearchText" Columns="30" />
	<asp:Button runat="server" id="SearchButton" Text="Search" OnClick="SearchButton_Clicked"/>
</asp:Panel>

</xmp>
        <span id="ErrorMessage" style="color:red"></span>

    </form>
