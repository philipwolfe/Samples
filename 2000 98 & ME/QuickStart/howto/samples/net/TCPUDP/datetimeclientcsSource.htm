



    <link rel="stylesheet" href="../../../../util/style.css">

    <form name="Form" method="post" action="srcview.htm?path=/QuickStart/howto/samples/net/TCPUDP/datetimeclient.src&file=datetimeclient.cs" id="Form">
<input type="hidden" name="__VIEWSTATE" value="YTB6MTQ3MzAyNjM4MF9hMHpfaHo1ejN4X2Ewel9oejV6MHhfYTB6aHppbm5lcmh0bWxfZGF0ZXRpbWVjbGllbnQuY3N4X194eF94eF94X194fb0a3b79" />


        <div class="SampleHeader" style="width:100%">
            <div class="SampleTitle">
                <span id="Title">datetimeclient.cs</span>
            </div>
            <table id="SourceTable" style="font: 8pt Verdana">
    <tr>
        <td style="padding-right:10;"><b>C# Console Source: </b></td>
        <td><a href='../../../../howto/samples/net/tcpudp/datetimeclientcssource.htm'>datetimeclient.cs</a> &nbsp;&nbsp</td>
    </tr>
    <tr>
        <td style="padding-right:10;"><b>VB Console Source: </b></td>
        <td><a href='../../../../howto/samples/net/tcpudp/vb/datetimeclientvbsource.htm'>VB/datetimeclient.vb</a> &nbsp;&nbsp</td>
    </tr>
</table>

        </div>

        <xmp>using System;
using System.Net;
using System.Net.Sockets;
using System.IO;
using System.Text;

class Client {
	public static void Main(String[] args) {

		TCPClient tcpc = new TCPClient();
		Byte[] read = new Byte[32];

		if (args.Length != 1) {
			Console.WriteLine("Please specify a server name in the command line");
			return;
		}

		String server = args[0];

		// Verify that the server exists
		if (DNS.GetHostByName(server) == null) {
			Console.WriteLine("Cannot find server: " + server);
			return;
		}

		// Try to connect to the server
		if (tcpc.Connect(server, 13) == -1) {
			Console.WriteLine("Cannot connect to server: " + server);
			return;
		}

		// Get the stream
		Stream s = tcpc.GetStream();

		// Read the stream and convert it to ASII
		int bytes = s.Read(read, 0, read.Length);
		String Time = Encoding.ASCII.GetString(read);

		// Display the data
		Console.WriteLine("Received " + bytes + " bytes");
		Console.WriteLine("Current date and time is: " + Time);

		tcpc.Close();

		// Wait for user response to exit
		Console.WriteLine("Press Return to exit");
		Console.Read();
	}
}
</xmp>
        <span id="ErrorMessage" style="color:red"></span>

    </form>
