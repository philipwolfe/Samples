<html DIR="LTR"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=utf-8" /><META NAME="save" CONTENT="history" /><title>Rights Managed Content Publish Sample</title><META NAME="Description" CONTENT="The Rights Managed Content Publish sample shows how to add Digital Rights Management (DRM)[Glossary Lookup Failure: digital_rights_management#b947902f-8526-4e08-acbc-138cf109ed9a] protection to a generic content data file. The sample shows how rights management protection can be added to example image files, &quot;Chocolate.png&quot; and &quot;Truffle.png&quot;. Build the sample and follow the steps below to add rights managed protection to the example images."></META><META NAME="MS.LOCALE" CONTENT="en-us" /><style>
body
{font-family:Verdana;font-size:medium;}
div#mainSection, div#header
{font-size:70%;width: 100%;}
div#mainBody
{font-size:90%;}
div#mainSection div table
{font-size: 100%;text-align: left;}
span#nsrTitle
{color:#003399;font-size:90%;font-weight:600;}
div#header
{background-color:#D4DFFF;}
.heading
{font-size:120%;color:#003399;}
.subHeading
{font-size:100%;margin-bottom:4;}
li
{margin-top:-2;margin-bottom:3;}
p
{margin-top:10;margin-bottom:5;}
div.tableSection p
{margin-top:1;margin-bottom:4;}	
div#mainSection table th
{background-color:#EFEFF7;color:#000066;text-align:left;}
div#mainSection table td
{background-color:#F7F7FF;}
div#mainSection table
{margin-top:5px;margin-bottom: px;}
			</style></head><body><div id="header"><table width="100%" id="topTable"><tr id="headerTableRow2"><td align="left"><span id="nsrTitle">Rights Managed Content Publish Sample</span></td></tr></table></div><div id="mainSection"><div id="mainBody"><br /><font color="DarkGray">[This readme is a partial copy of the sample's topic in the SDK documentation.]</font><br /><p>The <i>Rights Managed Content Publish</i> sample shows how to add Digital Rights Management (DRM)[<B style="color:red"><I>Glossary Lookup Failure: digital_rights_management#b947902f-8526-4e08-acbc-138cf109ed9a</I></B>] protection to a generic content data file.  The sample shows how rights management protection can be added to example image files, "Chocolate.png" and "Truffle.png".  Build the sample and follow the steps below to add rights managed protection to the example images. </p><ol><li><p>After the sample starts, click <b>File</b> | <b>Open... </b>and select to view one of the sample image files, "Chocolate.png" or "Truffle.png".  The image will open and display in the application Image pane.</p></li><li><p>Next click <b>File | Rights...</b> and select the file "Document-Rights.xrml".  The Extensible Rights Markup Language (XrML) file defines the rights to be granted to specific users of the protected document after it is encrypted for rights management.</p></li><li><p>To publish the rights managed file, click <b>File | Publish...</b> and in the "Publish Rights Managed Package As" dialog select a file name for the new encrypted file.</p></li></ol><p>In addition to the <b>Image</b> pane, there are two additional panels displayed in the application window.</p><ul><li><p>The "Status" pane displays the steps as they are performed to encrypt the document with rights management.</p></li><li><p>The "Rights" pane shows the contents of the "Document-Rights.xrml" file that defines the granted rights bound with the new managed file.</p></li></ul><p>The <a href="d154f992-58ee-47e3-9784-72c72b09039b.htm">Rights Managed Content Viewer Sample</a> shows how to access and view the new rights managed file.</p><p><b>Important:</b> Execution of the <i>Rights Managed Content Publish</i> sample requires network access to a server configured with Microsoft Rights Management Services (RMS).  See the following links for information on how to configure your development environment for use with RMS.</p><ul><li><p><a href="http://go.microsoft.com/fwlink/?linkid=65280&amp;clcid=0x409">Rights Management Services SDK - Setting Up Your Development Environment</a></p></li><li><p><a href="http://go.microsoft.com/fwlink/?linkid=65281&amp;clcid=0x409">Rights Management Services SDK - Setting the Client Hierarchy Registry Value</a></p></li></ul><p>This sample demonstrates a specific feature of the Windows Presentation Foundation (WPF) and, consequently, does not follow application development best practices. For comprehensive coverage of Windows Presentation Foundation (WPF) and Microsoft .NET Framework application development best practices, refer to the following as appropriate:</p><p>Accessibility - Accessibility Best Practices</p><p>Security - WPF Security</p><p>Localization - WPF Globalization and Localization Overview</p><a name="sample_build_instructions"></a><h1 class="heading">Building the Sample</h1><div id="sectionSection0" class="seeAlsoNoToggleSection"><ul><li><p>
            Install the Windows Software Development Kit (SDK) and open its build environment command window. On the Start menu, point to All Programs, Microsoft Windows SDK, and then click CMD Shell.
          </p></li><li><p>
            Download the sample, usually from the software development kit (SDK) documentation, to your hard disk drive.
          </p></li><li><p>
            To build the sample from the build environment command window, go to the source directory of the sample. At the command prompt, type MSBUILD.
          </p></li><li><p>
            To build the sample in Microsoft Visual Studio 2005, load the sample solution or project file and then press CTRL+SHIFT+B.
          </p></li></ul></div><a name="sample_run_instructions"></a><h1 class="heading">Running the Sample</h1><div id="sectionSection1" class="seeAlsoNoToggleSection"><ul><li><p>
            To run the compiled sample from the build environment command window, execute the .exe file in the Bin\Debug or Bin\Release folder contained under the sample source code folder.
          </p></li><li><p>
            To run the compiled sample with debugging in Visual Studio 2005, press F5.
          </p></li></ul></div><h1 class="heading">See Also</h1><div id="seeAlsoSection" class="seeAlsoNoToggleSection"><h4 class="subHeading">Tasks</h4><a href="9493a58b-5ad0-415b-a283-289bfa664468.htm">Rights Managed Package Publish Sample</a><br /><a href="b121fca1-80df-4af9-a1a2-d89e07c4171e.htm">Rights Managed Package Viewer Sample</a><br /><a href="d154f992-58ee-47e3-9784-72c72b09039b.htm">Rights Managed Content Viewer Sample</a><br /><br /></div><UscDataIsland></UscDataIsland></div></div></body></html>